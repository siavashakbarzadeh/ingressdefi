(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{nXeD:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i("d1T+"),n=i("AytR"),c=i("fXoL");let o=(()=>{class t{transform(t){if(t)return"/"+n.a.baseUrl+"/"+a.a[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Kb({name:"appRouter",type:t,pure:!0}),t})()},sHad:function(t,e,i){"use strict";i.r(e),i.d(e,"VoteEditModule",function(){return K});var a=i("ofXK"),n=i("tyNb"),c=i("AytR"),o=i("d1T+");const s=[{coloumnName:"sno",coloumnDisplay:"Position",isSort:!0},{coloumnName:"user_address",coloumnDisplay:"User Address",isSort:!1,isLink:!0,isCopy:!0,link:"address"},{coloumnName:"tx_id",coloumnDisplay:"Transaction Hash ",type:"txId",isLink:!0,isCopy:!0,link:"tx"},{coloumnName:"vote",coloumnDisplay:"Vote",bollean:!0}],r=s.map((t,e)=>t.coloumnName);var l=i("+0xr"),b=i("fXoL"),u=i("p/XV"),d=i("uDgL"),m=i("Wp6s"),p=i("bTqV"),f=i("Qu3c"),g=i("NFeN"),h=i("f0Cb"),v=i("Dh3D"),A=i("Xa2L"),C=i("nXeD");function R(t,e){1&t&&(b.Rb(0,"mat-icon"),b.Cc(1," fact_check "),b.Qb())}function y(t,e){1&t&&(b.Pb(0),b.Cc(1," Vote Pass"),b.Ob())}function D(t,e){1&t&&(b.Pb(0),b.Cc(1," Please Wait "),b.Rb(2,"span"),b.Cc(3," ... "),b.Qb(),b.Ob())}function S(t,e){1&t&&(b.Rb(0,"mat-icon"),b.Cc(1," fact_check "),b.Qb())}function w(t,e){1&t&&(b.Pb(0),b.Cc(1," Vote Fail"),b.Ob())}function P(t,e){1&t&&(b.Pb(0),b.Cc(1," Please Wait "),b.Rb(2,"span"),b.Cc(3," ... "),b.Qb(),b.Ob())}function O(t,e){if(1&t){const t=b.Sb();b.Rb(0,"button",22),b.Yb("click",function(){return b.tc(t),b.cc(2).formSubmit(!1)}),b.Bc(1,S,2,0,"mat-icon",18),b.Bc(2,w,2,0,"ng-container",18),b.Bc(3,P,4,0,"ng-container",18),b.Qb()}if(2&t){const t=b.cc(2);b.ic("disabled",t.isDataPassing),b.Ab(1),b.ic("ngIf",!t.isDataPassing),b.Ab(1),b.ic("ngIf",!t.isDataPassing),b.Ab(1),b.ic("ngIf",t.isDataPassing)}}function Q(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",19),b.Rb(1,"button",20),b.Yb("click",function(){return b.tc(t),b.cc().formSubmit(!0)}),b.Bc(2,R,2,0,"mat-icon",18),b.Bc(3,y,2,0,"ng-container",18),b.Bc(4,D,4,0,"ng-container",18),b.Qb(),b.Bc(5,O,4,4,"button",21),b.Qb()}if(2&t){const t=b.cc();b.Ab(1),b.ic("disabled",t.isDataPassing),b.Ab(1),b.ic("ngIf",!t.isDataPassing),b.Ab(1),b.ic("ngIf",!t.isDataPassing),b.Ab(1),b.ic("ngIf",t.isDataPassing),b.Ab(1),b.ic("ngIf",!t.isDataPassing)}}function k(t,e){if(1&t&&(b.Rb(0,"span",23),b.Cc(1),b.Qb()),2&t){const t=b.cc();b.Ab(1),b.Ec(" ",t.editObj.status," ")}}function _(t,e){if(1&t&&(b.Rb(0,"span",24),b.Cc(1),b.Qb()),2&t){const t=b.cc();b.Ab(1),b.Ec(" ",t.editObj.status," ")}}function I(t,e){if(1&t&&(b.Rb(0,"th",32),b.Cc(1),b.Qb()),2&t){const t=b.cc().$implicit;b.ic("disabled",!t.isSort),b.Ab(1),b.Ec(" ",t.coloumnDisplay," ")}}function j(t,e){if(1&t&&(b.Pb(0),b.Cc(1),b.Ob()),2&t){const t=b.cc().index;b.Ab(1),b.Ec(" ",t+1," ")}}const B=function(t,e){return{"text-success":t,"text-warn":e}};function L(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"label",34),b.Cc(2),b.Qb(),b.Ob()),2&t){const t=b.cc().$implicit,e=b.cc().$implicit;b.Ab(1),b.ic("ngClass",b.mc(2,B,t[e.coloumnName],!t[e.coloumnName])),b.Ab(1),b.Ec(" ",t[e.coloumnName]?"Okay":"Not Okay"," ")}}function $(t,e){if(1&t){const t=b.Sb();b.Rb(0,"button",9),b.Yb("click",function(){b.tc(t);const e=b.cc(2).$implicit,i=b.cc().$implicit;return b.cc(2).copyText(e[i.coloumnName])}),b.Rb(1,"mat-icon",10),b.Cc(2," content_copy"),b.Qb(),b.Qb()}if(2&t){const t=b.cc(3).$implicit;b.ic("matTooltip","Copy "+t.coloumnDisplay)}}function N(t,e){if(1&t){const t=b.Sb();b.Rb(0,"small"),b.Rb(1,"button",11),b.Yb("click",function(){b.tc(t);const e=b.cc(2).$implicit,i=b.cc().$implicit;return b.cc(2).goTo(i.link,e[i.coloumnName])}),b.Rb(2,"mat-icon",10),b.Cc(3,"north_east"),b.Qb(),b.Qb(),b.Qb()}if(2&t){const t=b.cc(3).$implicit;b.Ab(1),b.ic("matTooltip","See "+t.coloumnDisplay)}}function x(t,e){if(1&t&&(b.Pb(0),b.Cc(1),b.Bc(2,$,3,1,"button",35),b.Bc(3,N,4,1,"small",18),b.Ob()),2&t){const t=b.cc().$implicit,e=b.cc().$implicit;b.Ab(1),b.Ec(" ",t[e.coloumnName]," "),b.Ab(1),b.ic("ngIf",e.isCopy),b.Ab(1),b.ic("ngIf",e.isLink)}}function T(t,e){if(1&t&&(b.Rb(0,"td",33),b.Bc(1,j,2,1,"ng-container",18),b.Bc(2,L,3,5,"ng-container",18),b.Bc(3,x,4,3,"ng-container",18),b.Qb()),2&t){const t=b.cc().$implicit;b.Ab(1),b.ic("ngIf","sno"==t.coloumnName),b.Ab(1),b.ic("ngIf","vote"==t.coloumnName),b.Ab(1),b.ic("ngIf","sno"!=t.coloumnName&&"vote"!=t.coloumnName)}}function E(t,e){if(1&t&&(b.Rb(0,"td",33),b.Cc(1),b.dc(2,"date"),b.Qb()),2&t){const t=e.$implicit,i=b.cc(2).$implicit;b.Ab(1),b.Ec(" ",b.ec(2,1,t[i.coloumnName])," ")}}function M(t,e){1&t&&(b.Pb(0),b.Bc(1,E,3,3,"td",31),b.Ob())}function F(t,e){if(1&t&&(b.Pb(0,29),b.Bc(1,I,2,2,"th",30),b.Pb(2),b.Bc(3,T,4,3,"td",31),b.Ob(),b.Bc(4,M,2,0,"ng-container",18),b.Ob()),2&t){const t=e.$implicit;b.jc("matColumnDef",t.coloumnName),b.Ab(4),b.ic("ngIf",t.isDate)}}function z(t,e){1&t&&b.Mb(0,"tr",36)}function G(t,e){1&t&&b.Mb(0,"tr",38)}function V(t,e){if(1&t&&(b.Pb(0),b.Bc(1,G,1,0,"tr",37),b.Ob()),2&t){const t=b.cc(2);b.Ab(1),b.ic("matRowDefColumns",t.displayedColumns)}}function q(t,e){1&t&&(b.Rb(0,"tr",39),b.Rb(1,"td",40),b.Pb(2),b.Cc(3," No Data Found "),b.Ob(),b.Qb(),b.Qb())}function H(t,e){if(1&t&&(b.Rb(0,"table",25),b.Bc(1,F,5,2,"ng-container",26),b.Bc(2,z,1,0,"tr",27),b.Bc(3,V,2,1,"ng-container",18),b.Bc(4,q,4,0,"tr",28),b.Qb()),2&t){const t=b.cc();b.ic("dataSource",t.dataSource),b.Ab(1),b.ic("ngForOf",t.displayedDatas),b.Ab(1),b.ic("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b.Ab(1),b.ic("ngIf",!t.isGetSingleDataLoading)}}function X(t,e){1&t&&(b.Pb(0),b.Rb(1,"div",41),b.Mb(2,"mat-spinner",42),b.Qb(),b.Ob()),2&t&&(b.Ab(2),b.ic("diameter",20))}const U=function(t){return[t]};let Z=(()=>{class t{constructor(t,e,i,a){this.dataService=t,this.activatedRoute=e,this.general=i,this.router=a,this.statuses=["In Active","Active"],this.isGetSingleDataLoading=!0,this.isDataPassing=!1,this.isFormSubmitted=!1,this.displayedDatas=s,this.displayedColumns=r,this.isPairTokenToToken=!1,this.isLoading=!0,this.isGetSingleProposalData=!1,this.activatedRoute.paramMap.subscribe(t=>{this.loadConstructor()})}ngOnInit(){}goTo(t,e){window.open(`https://bscscan.com/${t}/${e}`,"_blank")}copyText(t){console.log(t,"___________ value");let e=t,i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=e,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i)}loadConstructor(){this.setEditObj(),this.editObj.id=this.activatedRoute.snapshot.paramMap.get("id"),this.getSingleData(),this.getSingleProposalData()}setEditObj(){this.editObj={id:"",description:"",votes:""}}getShort(t){return t?`${t.substring(0,3)}...${t.substring(38,42)}`:t}getSingleData(){this.isGetSingleDataLoading=!0,this.dataService.postRequest("vote/proposal_details",{_id:this.editObj.id}).subscribe(t=>{let e=t;this.isGetSingleDataLoading=!1,e.status?(this.editObj.votes=e.data,this.dataSource=new l.l(this.editObj.votes),this.getCount(),console.log(this.dataSource,"this.editObj.votes")):this.dataSource=new l.l([])})}async getCount(){this.posstiveCount=this.editObj.votes.filter(function(t){return 1==t.vote}).length,this.negativeCount=this.editObj.votes.filter(function(t){return 0==t.vote}).length}getSingleProposalData(){this.isGetSingleProposalData=!0,this.dataService.postRequest("vote/single_proposal",{_id:this.editObj.id}).subscribe(t=>{let e=t;this.isGetSingleProposalData=!1,e.status?this.editObj=e.data:this.dataService.openAlert(e.status,e.message)})}formSubmit(t){this.isFormSubmitted=!0,this.ediObjSubmit(t),this.isDataPassing=!0}ediObjSubmit(t){this.dataService.postRequest("vote/update_proposal_status",{_id:this.editObj._id,status:t}).subscribe(t=>{let e=t;this.isDataPassing=!1,e.status?(this.router.navigateByUrl(c.a.baseUrl+"/"+o.a.vote_list),this.dataService.openAlert(e.status,"Sucessfully Updated")):this.dataService.openAlert(!1,"Please Try Agian Later")})}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(u.a),b.Lb(n.a),b.Lb(d.a),b.Lb(n.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-vote-edit"]],decls:42,vars:21,consts:[[1,"d-flex","mb-4","page-header"],[1,"bread-crump_container"],[3,"routerLink"],["class","group-button d-flex",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-2"],[1,"table-container"],[1,"text-center"],["mat-button","","mat-icon-button","",3,"matTooltip","click"],[1,"small-icon"],["color","primary","mat-button","","mat-icon-button","",3,"matTooltip","click"],[1,"text-capitalize","mt-4"],["class","text-warn",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"col-md-10"],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],[1,"col-md-4"],[4,"ngIf"],[1,"group-button","d-flex"],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","submit","mat-button","","color","warn",3,"disabled","click",4,"ngIf"],["type","submit","mat-button","","color","warn",3,"disabled","click"],[1,"text-warn"],[1,"text-success"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","mat-row",4,"matNoDataRow"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",3,"disabled",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",3,"disabled"],["mat-cell",""],[3,"ngClass"],["mat-button","","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mat-header-row",""],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row",""],[1,"mat-row"],["colspan","100",1,"mat-cell","text-center"],[1,"d-flex","justify-content-center","padding"],["color","primary",3,"diameter"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Rb(1,"ul",1),b.Rb(2,"li"),b.Rb(3,"a",2),b.dc(4,"appRouter"),b.Cc(5," Home"),b.Qb(),b.Qb(),b.Rb(6,"li"),b.Rb(7,"a",2),b.dc(8,"appRouter"),b.Cc(9," Vote"),b.Qb(),b.Qb(),b.Rb(10,"li"),b.Cc(11," Vote Preview "),b.Qb(),b.Qb(),b.Bc(12,Q,6,5,"div",3),b.Qb(),b.Rb(13,"div",4),b.Rb(14,"div",5),b.Rb(15,"div",6),b.Rb(16,"mat-card",7),b.Rb(17,"div",8),b.Cc(18),b.Rb(19,"button",9),b.Yb("click",function(){return e.copyText(e.editObj.user_address)}),b.Rb(20,"mat-icon",10),b.Cc(21," content_copy"),b.Qb(),b.Qb(),b.Rb(22,"small"),b.Rb(23,"button",11),b.Yb("click",function(){return e.goTo("address",e.editObj.user_address)}),b.Rb(24,"mat-icon",10),b.Cc(25,"north_east"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Mb(26,"mat-divider"),b.Rb(27,"p",12),b.Cc(28),b.Qb(),b.Rb(29,"p"),b.Cc(30),b.Qb(),b.Rb(31,"p"),b.Cc(32),b.Qb(),b.Rb(33,"p"),b.Cc(34," Status : "),b.Bc(35,k,2,1,"span",13),b.Bc(36,_,2,1,"span",14),b.Qb(),b.Qb(),b.Qb(),b.Rb(37,"div",15),b.Rb(38,"mat-card",7),b.Bc(39,H,5,5,"table",16),b.Qb(),b.Qb(),b.Mb(40,"div",17),b.Qb(),b.Qb(),b.Bc(41,X,3,1,"ng-container",18)),2&t&&(b.Ab(3),b.ic("routerLink",b.lc(17,U,b.ec(4,13,"dasboard"))),b.Ab(4),b.ic("routerLink",b.lc(19,U,b.ec(8,15,"vote_list"))),b.Ab(5),b.ic("ngIf",!e.isGetSingleDataLoading&&"Active"==e.editObj.status),b.Ab(6),b.Ec(" ",e.getShort(e.editObj.user_address)," "),b.Ab(1),b.ic("matTooltip","Copy Addresss"),b.Ab(4),b.ic("matTooltip","See Addresss"),b.Ab(5),b.Ec(" ",e.editObj.description," "),b.Ab(2),b.Ec(" Okay : ",e.posstiveCount," "),b.Ab(2),b.Ec(" Not Okay : ",e.negativeCount," "),b.Ab(3),b.ic("ngIf","Failed"==e.editObj.status),b.Ab(1),b.ic("ngIf","Executed"==e.editObj.status),b.Ab(3),b.ic("ngIf",!e.isGetSingleDataLoading),b.Ab(2),b.ic("ngIf",e.isGetSingleDataLoading))},directives:[n.e,a.l,m.a,p.b,f.a,g.a,h.a,l.k,v.a,a.k,l.g,l.h,l.c,l.e,l.b,l.d,v.b,l.a,a.j,l.f,l.j,l.i,A.b],pipes:[C.a,a.e],styles:["table[_ngcontent-%COMP%]{width:100%!important}"]}),t})();var W=i("aSaG"),Y=i("ouhM");const J=[{path:":id",component:Z}];let K=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[a.c,W.a,Y.a,n.f.forChild(J)]]}),t})()},uDgL:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i("fXoL"),n=i("dNgK");let c=(()=>{class t{constructor(t){this.snackBar=t,this.specialCharacterPattern="^(?=.*[a-zA-Z])[a-zA-Z0-9]+$",this.passwordPattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[`~#^$@$!%*?&])[A-Za-zd$@$!%*?&].{7,}",this.numberPattern="^[0-9]*$",this.alphaNumericPattern="^(?=.*[a-zA-Z])[a-zA-Z0-9]+$",this.floatNumber="[+-]?([0-9]*[.])?[0-9]+",this.stringWithSpace="^[a-zA-Z_ ]*$",this.passwordLength=8,this.ipPattern="^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"}checkError(t,e,i){if(t.errors.hasOwnProperty("required"))return e+" is required";if(t.errors.hasOwnProperty("email"))return"Please enter a valid email address";if(t.errors.pattern){if("specialChar"==i)return"Special characters not allowed";if("password"==i)return"Password must contain atleast one uppercase, One lowercase, One numeric digit, One special character, 8 characters";if("cPassword"==i)return"Password Mismatch";if("number"==i)return e+" should be numerical";if("alphaNumeric"==i)return e+" contain only Alphanumeric characters and atleast one character";if("ip"==i)return"Enter Valid Ip Address"}else{if(t.errors.minlength)return"Min length is "+t.errors.minlength.requiredLength;if(t.errors.whitespace)return"White Space ";if(t.errors.matDatepickerMin)return"Date is expired "}}openNewWindow(t,e){let i=String(t),a=window.open("","_blank");console.log(e,"_type"),e&&"video"==e.toLowerCase()?a.document.write(`<img> <video src="${i}"  height="200" controls></video>`):a.document.write(`<img src="${i}">`)}isFile(t,e,i){if(i&&"video"==i.toLowerCase()){if(e.target.files&&e.target.files[0])for(var a=0;a<t.length;a++){let e=(n=t[a]).size/1024/1024;return"video/mp4"!=n.type?(this.openAlert(!1,"Invalid video format"),!1):!(e>=2&&(this.openAlert(!1,"Upload video should be less than or equal to 2MB"),1))}}else if(e.target.files&&e.target.files[0])for(a=0;a<t.length;a++){var n;let e=(n=t[a]).type,i=n.size/1024/1024;return"image/png"!=e&&"image/jpg"!=e&&"image/jpeg"!=e?(this.openAlert(!1,"Invalid image format"),!1):!(i>=2&&(this.openAlert(!1,"Upload image should be less than or equal to 2MB"),1))}}openAlert(t,e){let i;i="true"===t||!0===t?"bg-success":"bg-error",this.snackBar.open(e,"X",{duration:5e3,horizontalPosition:"right",verticalPosition:"top",panelClass:i})}loaded(t){t.classList.remove("is-loading-secondary")}removingSpaceFirst(t,e,i){32!==t.which||e.length||t.preventDefault()}removingSpace(t){32===t.which&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(n.a))},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);