(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{QPAc:function(t,e,s){"use strict";s.r(e),s.d(e,"LotteryContestListModule",function(){return S});var o=s("ofXK"),i=s("tyNb");const a=[{coloumnName:"sno",coloumnDisplay:"Position",isSort:!0},{coloumnName:"userAddress",coloumnDisplay:"User Address",isSort:!1,isLink:!0,isCopy:!0,link:"address"},{coloumnName:"start_tx_id",coloumnDisplay:"Transaction Hash ",type:"txId",isLink:!0,isCopy:!0,link:"tx"},{coloumnName:"contest_id",coloumnDisplay:"Contest Id",isSort:!0},{coloumnName:"created_date",coloumnDisplay:"created Date",isDate:!0},{coloumnName:"expired_date",coloumnDisplay:"Expired Date",isDate:!0},{coloumnName:"status",coloumnDisplay:"Status"},{coloumnName:"actions",coloumnDisplay:"Actions",isAction:!0,actions:[{icon:"visibility",link:"lottery_list",isLink:!0,id:"contest_id"}]}],n=a.map((t,e)=>t.coloumnName);var c=s("fXoL"),r=s("p/XV"),l=s("ViwK"),u=s("Fpw+"),_=s("bTqV"),d=s("NFeN"),b=s("nXeD");function p(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",6),c.Rb(1,"button",7),c.Yb("click",function(){return c.tc(t),c.cc().reset()}),c.Rb(2,"mat-icon"),c.Cc(3,"add"),c.Qb(),c.Cc(4," Create Contest "),c.Qb(),c.Qb()}}const m=function(t){return[t]};let y=(()=>{class t{constructor(t,e){this.dataService=t,this.lotteryService=e,this.tableData={displayedColumns:n,displayedDatas:a,getAllApi:"lottery/contest_list"},this.isShowCreateContest=!1,this.getContest()}ngOnInit(){}getContest(){this.dataService.getRequest("lottery/get_contest").subscribe(t=>{console.log(t,"suc"),this.isShowCreateContest=!t.status})}isLoign(){return!!this.dataService.metaDetails.isMetaLogin||(this.dataService.openAlert(!1,"Please Login to Further Action"),!1)}async reset(){await this.isLoign()&&(this.dataService.isOverlay=!0,this.lotteryService.reset().then(t=>{t.status?(console.log(t,"________________ suc"),this.lotteryService.GetContestNumber().then(e=>{console.log(e,"________________ suceess"),e.status&&this.dataService.postRequest("lottery/insert_contest",{userAddress:this.dataService.metaDetails.account,contest_id:e.result,start_tx_id:t.result}).subscribe(t=>{this.dataService.isOverlay=!1,t.status&&(this.dataService.openAlert(!0,"successfully Contest Stoped"),this.isShowCreateContest=!1)})})):this.dataService.isOverlay=!1,console.log(t,"________________ suc")}).catch(t=>{this.dataService.isOverlay=!1}))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(r.a),c.Lb(l.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-lottery-contest-list"]],decls:11,vars:7,consts:[[1,"d-flex","mb-4","page-header"],[1,"bread-crump_container"],[3,"routerLink"],[1,"spacer"],["class","group-button",4,"ngIf"],[3,"tableData"],[1,"group-button"],["type","button","mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"ul",1),c.Rb(2,"li"),c.Rb(3,"a",2),c.dc(4,"appRouter"),c.Cc(5," Home"),c.Qb(),c.Qb(),c.Rb(6,"li"),c.Cc(7,"Lottery Contest List"),c.Qb(),c.Qb(),c.Mb(8,"div",3),c.Bc(9,p,5,0,"div",4),c.Qb(),c.Mb(10,"app-list-table",5)),2&t&&(c.Ab(3),c.ic("routerLink",c.lc(5,m,c.ec(4,3,"dashboard"))),c.Ab(6),c.ic("ngIf",e.isShowCreateContest),c.Ab(1),c.ic("tableData",e.tableData))},directives:[i.e,o.l,u.a,_.b,d.a],pipes:[b.a],styles:[""]}),t})();var h=s("aSaG"),v=s("7o6p");const C=[{path:"",component:y}];let S=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[o.c,h.a,v.a,i.f.forChild(C)]]}),t})()}}]);