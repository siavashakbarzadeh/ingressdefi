{"version":3,"sources":["./src/app/pages/defi/dashboard/dashboard.component.ts","./src/app/pages/defi/dashboard/dashboard.component.html","./src/app/pages/defi/dashboard/dashboard.module.ts"],"names":[],"mappings":"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","file":"defi-dashboard-dashboard-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from \"src/app/common/services/api/data.service\";\nimport { ToasterService } from \"src/app/common/toaster/toaster.service\";\nimport { MetamaskService } from \"src/app/common/services/metamask/common/metamask.service\";\nimport { CommonContractService } from \"src/app/common/services/metamask/common-contract/common-contract.service\";\nimport { StakeService } from \"src/app/common/services/metamask/stake/stake.service\";\nimport { Router } from \"@angular/router\";\nimport { ContractDetails } from 'src/assets/files/contract';\ndeclare let window: any;\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n\n\tstakingPairs = [];\n\t  public Homepagevariable: any = {\n\t    governanceTokenHarvset : 0,\n\t  };\n\n\tprofile: any = {};\n\tcollection: any = {};\n\n\tgovernanceTokenBalance: any = 0;\n  \tgovernanceTokenSupply: any = 0;\n\n  \tconstructor(\n  \t\tpublic dataService: DataService,\n\t    private metamaskService: MetamaskService,\n\t    private commonContractService: CommonContractService,\n\t    private stakeService: StakeService,\n\t    private toasterService: ToasterService,\n\t    private router: Router\n  \t) \n  \t{ \n  \t\tthis.metaCallCommonFunction();\n  \t}\n\n  \tngOnInit() {\n  \t\tthis.countCollection();\n  \t\tthis.countNFT();\n  \t}\n\n\tmetaCallCommonFunction() {\n\t    //  After Check\n\n\t    this.dataService.isMetaReady.subscribe((suc) => {\n\t      if (suc) {\n\t        this.getPolledPairs();\n\t        this.getGovernanceTokenBalance();\n\t        this.getTotalsupply();\n\t      }\n\t    });\n\n\t    //  Before Check\n\t    if (this.dataService.metaDeatails.isMetaLogin) {\n\t      this.getPolledPairs();\n\t      this.getGovernanceTokenBalance();\n\t      this.getTotalsupply();\n\t    }\n\t}\n\n\tgoto(value) {\n\t    this.router.navigateByUrl(\"/\" + value);\n\t}\n\n\tasync getPolledPairs() {\n\t    console.log(\"yes heheheheheheheeh\")\n\t    this.Homepagevariable.governanceTokenHarvset = 0;\n\t    this.dataService.getRequest(\"farming/getPooledPairs\").subscribe((suc) => {\n\t      let responseData: any = suc;\n\t      if (responseData.status) {\n\t        this.stakingPairs = responseData.data;\n\t        let get_farmpairdata = responseData.data;\n\t        let governanceTokenHarvset = 0;\n\t        get_farmpairdata.map(async (items) => {\n\t          this.stakeService\n\t            .GetRewardamount(items.poolId)\n\t            .then(async (result) => {\n\t              console.log(\"______________ result\", \"resultresult\" , result)\n\t              if (result.status) {\n\t                governanceTokenHarvset = window.web3.utils.fromWei(\n\t                  result.result.toString(),\n\t                  \"ether\"\n\t                );\n\t                this.Homepagevariable.governanceTokenHarvset =\n\t                  +this.Homepagevariable.governanceTokenHarvset + +governanceTokenHarvset;\n\t              } else {\n\t                this.Homepagevariable.governanceTokenHarvset =\n\t                  +this.Homepagevariable.governanceTokenHarvset + 0;\n\t              }\n\t            })\n\t            .catch((error) => {\n\t              this.Homepagevariable.governanceTokenHarvset =\n\t                +this.Homepagevariable.governanceTokenHarvset + 0;\n\t              console.log(\" gettvlvalue error 2---->\", error);\n\t            });\n\t            this.Homepagevariable.governanceTokenHarvset = 0;\n\t        });\n\t      }\n\t    });\n\t}\n\n\tgetGovernanceTokenBalance() {\n\t    this.commonContractService\n\t      .GetTokenbalance(ContractDetails.governance_token_contract)\n\t      .then((suc) => {\n\t        if (suc.balance) {\n\t          this.governanceTokenBalance = suc.balance;\n\t        } else {\n\t          this.governanceTokenBalance = 0;\n\t        }\n\t    });\n\t}\n\n\tgetTotalsupply() {\n\t    this.commonContractService\n\t      .GetTotalSupply(ContractDetails.governance_token_contract)\n\t      .then((suc) => {\n\t        if (suc.totalsupply) {\n\t          this.governanceTokenSupply = suc.totalsupply;\n\t        } else {\n\t          this.governanceTokenSupply = 0;\n\t        }\n\t    }); \n\t}\n\n\tcountNFT() {\n\t\tthis.dataService.getRequest(\"collection/userNft\").subscribe((suc:any) => {\n\t\t\tif (suc.status) {\n\t\t\t\tthis.profile.count = suc.data;\n\t\t\t} else {\n\t\t\t\tthis.profile.count = 0;\n\t\t\t}\n\t\t});\n\t}\n\n\tcountCollection() {\n\t\tthis.dataService.getRequest(\"collection/countCollection\").subscribe((suc:any) => {\n\t\t\tif (suc.status) {\n\t\t\t\tthis.collection.count = suc.data;\n\t\t\t} else {\n\t\t\t\tthis.collection.count = 0;\n\t\t\t}\n\t\t});\n\t}\n\n}\n","\n    <div class=\"row\">\n      <div class=\"col-md-6 col-lg-4\">\n        <div class=\"card grey-cnt\">\n          <div class=\"card-body\">\n            <p>Farms & Staking</p>\n            <div class=\"cardcontent\">\n                <div class=\"cardcakevalue\"> {{dataService.projectDetails.tokenName}} to Harvest :\n                    {{Homepagevariable.governanceTokenHarvset | number: dataService.fixNumber}}</div>\n                <div class=\"LockedTxt\"> <i class=\"fas fa-lock-alt\"></i>&nbsp;Locked </div>\n            </div>\n            <div class=\"cardcontent\">\n                <div class=\"cardcakevalue\"> {{dataService.projectDetails.tokenName}} in Wallet :\n                    {{governanceTokenBalance | number: dataService.fixNumber}}</div>\n                <div class=\"LockedTxt\"> <i class=\"fas fa-lock-alt\"></i>&nbsp;Locked </div>\n            </div>\n            <div class=\"row justify-content-center mt-4\">\n                <div class=\"col-lg-10 col-md-12 col-12\">\n                    <button (click)=\"goto('staking')\" class=\"btn default-btn btn-block\"\n                        type=\"button\">\n                        <ng-container *ngIf=\"!dataService.metaDeatails.isMetaLogin\">\n                            Unlock Wallet\n                        </ng-container>\n\n                        <ng-container *ngIf=\"dataService.metaDeatails.isMetaLogin\">\n                            Approve\n                        </ng-container>\n                    </button>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- <div class=\"col-md-6 col-lg-4\">\n        <div class=\"card grey-cnt\">\n          <div class=\"card-body\">\n            <p>Your Lottery Winnings</p>\n            <div class=\"cardcontent\">\n                <div class=\"cardcakevalue\"> {{dataService.projectDetails.tokenName}} in Wallet</div>\n                <div class=\"cakeno\">{{governanceTokenBalance | number: dataService.fixNumber}}\n                    {{dataService.projectDetails.tokenName}}</div>\n                <div class=\"LockedTxt\"> <i class=\"fas fa-lock-alt\"></i>&nbsp;Locked </div>\n            </div>\n            <div class=\"row justify-content-center mt-4\">\n                <div class=\"col-lg-10 col-md-12 col-12\">\n                    <button (click)=\"goto('lottery')\" class=\"btn default-btn btn-block\"\n                        type=\"button\">\n                        <ng-container *ngIf=\"!dataService.metaDeatails.isMetaLogin\">\n                            Unlock Wallet\n                        </ng-container>\n\n                        <ng-container *ngIf=\"dataService.metaDeatails.isMetaLogin\">\n                            <span [routerLink]=\"['/lottery']\">Collect Lottery</span>\n                        </ng-container>\n                    </button>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div> -->\n      <div class=\"col-md-6 col-lg-4\">\n        <div class=\"card grey-cnt\">\n          <div class=\"card-body\">\n            <div class=\"cardtit\">\n              {{dataService.projectDetails.tokenName}} Stats\n          </div>\n          <div class=\"row align-items-center\">\n              <div class=\"col-sm\"><span class=\"lefttxt\">Total {{dataService.projectDetails.tokenName}} Supply</span></div>\n              <div class=\"col-sm text-right\">\n                  <span class=\"rgttxt\">{{governanceTokenSupply | number: dataService.fixNumber}}</span>\n              </div>\n          </div>\n          </div>\n        </div>\n      </div>\n      \n\n      <div [routerLink]=\"'/user'\" class=\"col-md-6 col-lg-4 cursor\">\n        <div class=\"card grey-cnt\">\n          <div class=\"card-body\">\n            <p>Total Collected</p>\n            <h3 class=\"heading text-right\">{{profile.count}}</h3>\n          </div>\n        </div>\n      </div>\n      <!-- <div class=\"col-md-6 col-lg-4 d-flex justify-content-center align-items-center\">\n        <div class=\"d-flex justify-content-around w-100\"> <a href=\"\" class=\"d-flex flex-column justify-content-center align-items-center\"> <img src=\"assets/images/send-icon.png\">\n          <p class=\"text-center mt-2\">Send</p>\n          </a> <a href=\"\" class=\"d-flex flex-column justify-content-center align-items-center\"> <img src=\"assets/images/receive-icon.png\">\n          <p class=\"text-center mt-2\">Receive</p>\n          </a> </div>\n      </div> -->\n      <!-- <div class=\"col-lg-12\">\n        <h3 class=\"section-title\">Offers</h3>\n      </div> -->\n    </div>\n    \n\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { DashboardComponent } from \"./dashboard.component\";\nimport { TabsModule } from \"ngx-bootstrap/tabs\";\nimport { CollapseModule } from \"ngx-bootstrap/collapse\";\nimport { FormsModule } from \"@angular/forms\";\nimport { TooltipModule } from \"ngx-bootstrap/tooltip/\";\nimport { LoaderModule } from \"src/app/common/loader/loader.module\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: DashboardComponent,\n  },\n];\n\n@NgModule({\n  declarations: [DashboardComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(routes),\n    LoaderModule,\n    TabsModule.forRoot(),\n    CollapseModule.forRoot(),\n    TooltipModule.forRoot(),\n  ],\n})\nexport class DashboardModule {}\n"],"sourceRoot":"webpack:///"}