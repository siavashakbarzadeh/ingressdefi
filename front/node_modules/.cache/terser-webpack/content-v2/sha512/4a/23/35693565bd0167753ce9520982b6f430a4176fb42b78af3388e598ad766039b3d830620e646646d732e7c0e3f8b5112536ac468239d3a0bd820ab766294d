{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"1doH\":function(t,i,e){\"use strict\";e.d(i,\"a\",(function(){return s}));var n=e(\"ofXK\"),a=e(\"fXoL\");let s=(()=>{class t{}return t.\\u0275mod=a.Pb({type:t}),t.\\u0275inj=a.Ob({factory:function(i){return new(i||t)},imports:[[n.c]]}),t})()},\"om8+\":function(t,i,e){\"use strict\";e.r(i),e.d(i,\"StakingModule\",(function(){return w}));var n=e(\"ofXK\"),a=e(\"tyNb\"),s=e(\"mrSG\"),c=e(\"fXoL\"),o=e(\"s1dW\"),r=e(\"752y\"),g=e(\"iGYC\"),b=e(\"c9Rp\"),l=e(\"v+Pn\");function d(t,i){1&t&&(c.Vb(0),c.Ic(1,\" Unlock Wallet \"),c.Ub())}function u(t,i){1&t&&(c.Vb(0),c.Ic(1,\" Stake \"),c.Ub())}function f(t,i){if(1&t){const t=c.Yb();c.Xb(0,\"div\",7),c.Xb(1,\"div\",8),c.Xb(2,\"div\",9),c.Xb(3,\"div\",10),c.Xb(4,\"p\"),c.Ic(5),c.Wb(),c.Xb(6,\"div\",11),c.Sb(7,\"img\",12),c.Sb(8,\"img\",13),c.Wb(),c.Ic(9,\"` \"),c.Wb(),c.Xb(10,\"p\",1),c.Ic(11,\"Total Staking\"),c.Wb(),c.Xb(12,\"h3\",1),c.Ic(13),c.hc(14,\"number\"),c.Wb(),c.Xb(15,\"div\",14),c.Xb(16,\"button\",15),c.ec(\"click\",(function(){c.zc(t);const e=i.$implicit;return c.gc(3).stake(e)})),c.Gc(17,d,2,0,\"ng-container\",5),c.Gc(18,u,2,0,\"ng-container\",5),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=i.$implicit,e=c.gc(3);c.Fb(5),c.Lc(\"\",t.fromCurrency,\"-\",t.toCurrency,\"\"),c.Fb(8),c.Jc(c.jc(14,5,t.staked_amount,e.dataService.fixNumber)),c.Fb(4),c.nc(\"ngIf\",!e.dataService.metaDeatails.isMetaLogin),c.Fb(1),c.nc(\"ngIf\",e.dataService.metaDeatails.isMetaLogin)}}function m(t,i){if(1&t&&(c.Vb(0),c.Gc(1,f,19,8,\"div\",6),c.Ub()),2&t){const t=c.gc(2);c.Fb(1),c.nc(\"ngForOf\",t.stakingPairs)}}function h(t,i){1&t&&(c.Vb(0),c.Xb(1,\"div\",16),c.Ic(2,\" Not yet Pool Id Created to stake \"),c.Wb(),c.Ub())}function k(t,i){if(1&t&&(c.Xb(0,\"div\",3),c.Gc(1,m,2,1,\"ng-container\",5),c.Gc(2,h,3,0,\"ng-container\",5),c.Wb()),2&t){const t=c.gc();c.Fb(1),c.nc(\"ngIf\",0!=t.stakingPairs.length&&!t.isgetPolledPairsLoading),c.Fb(1),c.nc(\"ngIf\",0==t.stakingPairs.length&&!t.isgetPolledPairsLoading)}}function S(t,i){if(1&t){const t=c.Yb();c.Xb(0,\"app-staking2\",17),c.ec(\"goBack\",(function(){c.zc(t);const i=c.gc();return i.isSingleStake=!i.isSingleStake})),c.Wb()}if(2&t){const t=c.gc();c.nc(\"stakingPair\",t.stakingPairSingleObj)}}let v=(()=>{class t{constructor(t,i,e,n,a,s){this.dataService=t,this.stakeService=i,this.metamaskService=e,this.commonContractService=n,this.changeDetectorRef=a,this.router=s,this.stakingPairs=[],this.stakingPairsDatas=[],this.isSingleStake=!1,this.isgetPolledPairsLoading=!0}ngOnInit(){this.getPolledPairs()}getPolledPairs(){this.isgetPolledPairsLoading=!0,this.dataService.getRequest(\"farming/getPooledPairs\").subscribe(t=>{t.status&&(this.stakingPairs=t.data,this.metaCallCommonFunction()),this.isgetPolledPairsLoading=!1})}metaCallCommonFunction(){this.dataService.isMetaReady.subscribe(t=>{t&&this.metaFunctions()}),this.dataService.metaDeatails.isMetaLogin&&this.metaFunctions()}metaFunctions(){this.stakingPairs.map(t=>Object(s.a)(this,void 0,void 0,(function*(){yield this.getStakedAmount(t.poolId).then(i=>{t.staked_amount=i})}))),this.changeDetectorRef.detectChanges()}getStakedAmount(t){return Object(s.a)(this,void 0,void 0,(function*(){return this.stakeService.GetStakedamount(t).then(t=>Object(s.a)(this,void 0,void 0,(function*(){return t.status?yield window.web3.utils.fromWei(t.amount.toString(),\"ether\"):0}))).catch(t=>{console.log(\"reward false\")})}))}stake(t){return Object(s.a)(this,void 0,void 0,(function*(){this.dataService.metaDeatails.isMetaLogin?(yield this.metamaskService.checkChainIdCall())&&(this.stakingPairSingleObj=t,this.isSingleStake=!0,this.changeDetectorRef.detectChanges()):this.dataService.showWalletList.emit(!0)}))}}return t.\\u0275fac=function(i){return new(i||t)(c.Rb(o.a),c.Rb(r.a),c.Rb(g.a),c.Rb(b.a),c.Rb(c.i),c.Rb(a.b))},t.\\u0275cmp=c.Lb({type:t,selectors:[[\"app-staking\"]],decls:7,vars:2,consts:[[1,\"section-title\"],[1,\"text-center\"],[\"class\",\"row\",4,\"ngIf\"],[1,\"row\"],[3,\"stakingPair\",\"goBack\",4,\"ngIf\"],[4,\"ngIf\"],[\"class\",\"col-lg-4\",4,\"ngFor\",\"ngForOf\"],[1,\"col-lg-4\"],[1,\"card\",\"grey-cnt\",\"stake-cnt\"],[1,\"card-body\"],[1,\"d-sm-flex\",\"justify-content-between\",\"mb-4\"],[1,\"d-flex\",\"align-items-start\"],[\"src\",\"assets/images/eth-icon.png\",1,\"img-fluid\",\"mr-2\"],[\"src\",\"assets/images/bnb-icon.png\",1,\"img-fluid\"],[1,\"w-100\",\"mt-3\"],[1,\"btn\",\"default-btn\",\"btn-block\",3,\"click\"],[1,\"mx-auto\"],[3,\"stakingPair\",\"goBack\"]],template:function(t,i){1&t&&(c.Xb(0,\"h3\",0),c.Ic(1,\"Staking\"),c.Wb(),c.Xb(2,\"p\",1),c.Ic(3,\"Stake token to earn new tokens. You can claim and unstake at any time. Rewards are calculated per block.\"),c.Wb(),c.Gc(4,k,3,2,\"div\",2),c.Xb(5,\"div\",3),c.Gc(6,S,1,1,\"app-staking2\",4),c.Wb()),2&t&&(c.Fb(4),c.nc(\"ngIf\",!i.isSingleStake),c.Fb(2),c.nc(\"ngIf\",i.isSingleStake))},directives:[n.m,n.l,l.a],pipes:[n.f],styles:[\"\"]}),t})();var p=e(\"sOro\"),P=e(\"1doH\");const I=[{path:\"\",component:v}];let w=(()=>{class t{}return t.\\u0275mod=c.Pb({type:t}),t.\\u0275inj=c.Ob({factory:function(i){return new(i||t)},imports:[[n.c,p.a,P.a,a.e.forChild(I)]]}),t})()}}]);","extractedComments":[]}