{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{gnnF:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"FarmModule\",(function(){return B}));var a=i(\"ofXK\"),n=i(\"tyNb\"),o=i(\"mrSG\"),c=i(\"3bqL\"),s=i(\"fXoL\"),r=i(\"s1dW\"),l=i(\"752y\"),b=i(\"iGYC\"),d=i(\"c9Rp\"),g=i(\"vqsv\"),u=i(\"CSeC\"),h=i(\"1Gz7\");let m=c.a.WBNB_contract,f=(()=>{class t{constructor(t){this.swapservice=t,this.pricePoolShare={},this.swapformorder=!0,this.fromCurrency_address=c.a.governance_token_contract,this.fromCurrency_decimal=18,this.toCurrency_decimal=18}getPricePoolshare(){return Object(o.a)(this,void 0,void 0,(function*(){let t,e=[this.fromCurrency_address,m];return t=18==this.fromCurrency_decimal?window.web3.utils.toWei(1..toString(),\"ether\"):(1*Math.pow(10,this.fromCurrency_decimal)).toFixed(4),this.swapservice.getAmountsOutOld(c.a.router_contract,u.a,t,e).then(t=>Object(o.a)(this,void 0,void 0,(function*(){if(console.log(\"getAmountsIn ----\\x3e\",t),t.status){if(18==this.toCurrency_decimal)this.pricePoolShare.to_amount=(t.resultamount[1]/1e18).toFixed(4);else{let e=Math.pow(10,this.toCurrency_decimal);this.pricePoolShare.to_amount=(t.resultamount[1]/e).toFixed(4)}return console.log(\"this.pricePoolShare.to_amount ----\\x3e\",this.pricePoolShare.to_amount),this.pricePoolShare.to_amount}return this.pricePoolShare.to_amount=0,this.pricePoolShare.to_amount}))).catch(t=>(this.pricePoolShare.to_amount=(0).toFixed(4),this.pricePoolShare.to_amount))}))}}return t.\\u0275fac=function(e){return new(e||t)(s.bc(h.a))},t.\\u0275prov=s.Nb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})();var v=i(\"3Pt+\"),p=i(\"v+Pn\");const k=[\"top\"];function _(t,e){1&t&&(s.Xb(0,\"div\",12),s.Ic(1,\"Loading...\"),s.Wb())}function S(t,e){1&t&&(s.Xb(0,\"div\",18),s.Xb(1,\"div\",19),s.Ic(2,\" Not to yet Poll Id Created to Farm \"),s.Wb(),s.Wb())}function W(t,e){1&t&&(s.Xb(0,\"div\",19),s.Ic(1,\" No staked Pair Found \"),s.Wb())}function P(t,e){1&t&&(s.Xb(0,\"div\"),s.Ic(1,\"Unlock Wallet\"),s.Wb())}function X(t,e){1&t&&(s.Xb(0,\"div\"),s.Ic(1,\"Approve\"),s.Wb())}function y(t,e){if(1&t){const t=s.Yb();s.Xb(0,\"div\",21),s.Xb(1,\"div\",22),s.Xb(2,\"div\",23),s.Xb(3,\"p\",24),s.Ic(4),s.Wb(),s.Xb(5,\"div\",25),s.Xb(6,\"div\",26),s.Sb(7,\"img\",27),s.Sb(8,\"img\",28),s.Wb(),s.Wb(),s.Xb(9,\"div\",29),s.Xb(10,\"p\",30),s.Ic(11,\"APR: \"),s.Wb(),s.Xb(12,\"p\",30),s.Ic(13),s.Wb(),s.Wb(),s.Xb(14,\"div\",31),s.Xb(15,\"p\",30),s.Ic(16),s.Sb(17,\"br\"),s.Ic(18),s.hc(19,\"number\"),s.Wb(),s.Xb(20,\"button\",32),s.ec(\"click\",(function(){s.zc(t);const i=e.$implicit;return s.gc(3).stake(i)})),s.Ic(21,\"Harvest \"),s.Wb(),s.Wb(),s.Xb(22,\"p\",33),s.Ic(23,\"Total Earned\"),s.Wb(),s.Xb(24,\"div\",29),s.Xb(25,\"p\",30),s.Ic(26,\"Deposit \"),s.Wb(),s.Xb(27,\"p\",34),s.Ic(28),s.Wb(),s.Wb(),s.Xb(29,\"div\",29),s.Xb(30,\"p\",30),s.Ic(31,\"Total Liquidity \"),s.Wb(),s.Xb(32,\"p\",34),s.Ic(33),s.hc(34,\"number\"),s.Wb(),s.Wb(),s.Xb(35,\"a\",35),s.ec(\"click\",(function(){s.zc(t);const e=s.gc(3);return e.dataService.openBscScan(e.master_stake_address)})),s.Ic(36,\"View on Scan\"),s.Wb(),s.Xb(37,\"div\",36),s.Xb(38,\"button\",37),s.ec(\"click\",(function(){s.zc(t);const i=e.$implicit;return s.gc(3).stake(i)})),s.Gc(39,P,2,0,\"div\",38),s.Gc(40,X,2,0,\"div\",38),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=e.$implicit,i=s.gc(3);s.nc(\"hidden\",!t.staked_staus&&i.isStakedOnly),s.Fb(4),s.Lc(\"\",t.fromCurrency,\" - \",t.toCurrency,\"\"),s.Fb(9),s.Kc(\"\",t.aprPercentage?t.aprPercentage:\"0\",\"% \"),s.Fb(3),s.Kc(\"\",i.dataService.projectDetails.tokenName,\" Earned \"),s.Fb(2),s.Kc(\"\",t.reward_amount?t.reward_amount:s.jc(19,13,\"0\",\"1.4-4\"),\" \"),s.Fb(2),s.nc(\"disabled\",!t.isClaimAvailable),s.Fb(8),s.Lc(\"\",t.fromCurrency,\" - \",t.toCurrency,\" \"),s.Fb(5),s.Kc(\"\",t.totalLiqudity?t.totalLiqudity:s.jc(34,16,\"0\",\"1.4-4\"),\" \"),s.Fb(5),s.nc(\"disabled\",!t.isStakeAvailable&&i.dataService.metaDeatails.isMetaLogin),s.Fb(1),s.nc(\"ngIf\",!i.dataService.metaDeatails.isMetaLogin),s.Fb(1),s.nc(\"ngIf\",i.dataService.metaDeatails.isMetaLogin)}}function w(t,e){if(1&t&&(s.Xb(0,\"div\",18),s.Gc(1,y,41,19,\"div\",20),s.Wb()),2&t){const t=s.gc(2);s.Fb(1),s.nc(\"ngForOf\",t.stakingPairs)}}function I(t,e){1&t&&(s.Xb(0,\"div\",18),s.Xb(1,\"div\",19),s.Ic(2,\" Not to yet Poll Id Created to Farm \"),s.Wb(),s.Wb())}function C(t,e){1&t&&(s.Xb(0,\"div\"),s.Ic(1,\"Unlock Wallet\"),s.Wb())}function F(t,e){1&t&&(s.Xb(0,\"div\"),s.Ic(1,\"Approve\"),s.Wb())}function L(t,e){if(1&t){const t=s.Yb();s.Xb(0,\"div\",40),s.Xb(1,\"div\",22),s.Xb(2,\"div\",23),s.Xb(3,\"p\",24),s.Ic(4),s.Wb(),s.Xb(5,\"div\",25),s.Xb(6,\"div\",26),s.Sb(7,\"img\",27),s.Sb(8,\"img\",28),s.Wb(),s.Xb(9,\"div\",41),s.Xb(10,\"button\",42),s.Sb(11,\"img\",43),s.Ic(12,\" Core \"),s.Wb(),s.Xb(13,\"p\",44),s.Ic(14,\"40x\"),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,\"div\",29),s.Xb(16,\"p\",30),s.Ic(17,\"APR: \"),s.Wb(),s.Xb(18,\"p\",30),s.Ic(19),s.Wb(),s.Wb(),s.Xb(20,\"div\",31),s.Xb(21,\"p\",30),s.Ic(22),s.Sb(23,\"br\"),s.Ic(24),s.hc(25,\"number\"),s.Wb(),s.Xb(26,\"button\",32),s.ec(\"click\",(function(){s.zc(t);const i=e.$implicit;return s.gc(3).stake(i)})),s.Ic(27,\"Harvest \"),s.Wb(),s.Wb(),s.Xb(28,\"p\",33),s.Ic(29,\"Total Earned\"),s.Wb(),s.Xb(30,\"div\",29),s.Xb(31,\"p\",30),s.Ic(32,\"Deposit \"),s.Wb(),s.Xb(33,\"p\",34),s.Ic(34),s.Wb(),s.Wb(),s.Xb(35,\"div\",29),s.Xb(36,\"p\",30),s.Ic(37,\"Total Liquidity \"),s.Wb(),s.Xb(38,\"p\",34),s.Ic(39),s.hc(40,\"number\"),s.Wb(),s.Wb(),s.Xb(41,\"a\",35),s.ec(\"click\",(function(){s.zc(t);const e=s.gc(3);return e.dataService.openBscScan(e.master_stake_address)})),s.Ic(42,\"View on Scan\"),s.Wb(),s.Xb(43,\"div\",36),s.Xb(44,\"button\",37),s.ec(\"click\",(function(){s.zc(t);const i=e.$implicit;return s.gc(3).stake(i)})),s.Gc(45,C,2,0,\"div\",38),s.Gc(46,F,2,0,\"div\",38),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=e.$implicit,i=s.gc(3);s.Fb(4),s.Lc(\"\",t.fromCurrency,\" - \",t.toCurrency,\"\"),s.Fb(15),s.Kc(\"\",t.aprPercentage?t.aprPercentage:\"0\",\"% \"),s.Fb(3),s.Kc(\"\",i.dataService.projectDetails.tokenName,\" Earned \"),s.Fb(2),s.Kc(\"\",t.reward_amount?t.reward_amount:s.jc(25,12,\"0\",\"1.4-4\"),\" \"),s.Fb(2),s.nc(\"disabled\",!t.isClaimAvailable),s.Fb(8),s.Lc(\"\",t.fromCurrency,\" - \",t.toCurrency,\" \"),s.Fb(5),s.Kc(\"\",t.totalLiqudity?t.totalLiqudity:s.jc(40,15,\"0\",\"1.4-4\"),\" \"),s.Fb(5),s.nc(\"disabled\",!t.isStakeAvailable&&i.dataService.metaDeatails.isMetaLogin),s.Fb(1),s.nc(\"ngIf\",!i.dataService.metaDeatails.isMetaLogin),s.Fb(1),s.nc(\"ngIf\",i.dataService.metaDeatails.isMetaLogin)}}function x(t,e){if(1&t&&(s.Xb(0,\"div\",18),s.Gc(1,L,47,18,\"div\",39),s.Wb()),2&t){const t=s.gc(2);s.Fb(1),s.nc(\"ngForOf\",t.stakingPairs)}}function O(t,e){if(1&t&&(s.Xb(0,\"div\",13),s.Xb(1,\"div\",14),s.Gc(2,S,3,0,\"div\",15),s.Gc(3,W,2,0,\"div\",16),s.Gc(4,w,2,1,\"div\",15),s.Wb(),s.Xb(5,\"div\",17),s.Gc(6,I,3,0,\"div\",15),s.Gc(7,x,2,1,\"div\",15),s.Wb(),s.Wb()),2&t){const t=s.gc();s.Fb(2),s.nc(\"ngIf\",0==t.stakingPairs.length&&!t.isgetPolledPairsLoading),s.Fb(1),s.nc(\"ngIf\",0==t.stackedLength&&t.isStakedOnly),s.Fb(1),s.nc(\"ngIf\",!t.isgetPolledPairsLoading&&0!=t.stakingPairs.length),s.Fb(2),s.nc(\"ngIf\",0==t.stakingPairs.length&&!t.isgetPolledPairsLoading),s.Fb(1),s.nc(\"ngIf\",!t.isgetPolledPairsLoading&&0!=t.stakingPairs.length)}}function R(t,e){if(1&t){const t=s.Yb();s.Xb(0,\"app-staking2\",45),s.ec(\"goBack\",(function(){return s.zc(t),s.gc().getBack()})),s.Wb()}if(2&t){const t=s.gc();s.nc(\"stakingPair\",t.stakingPairSingleObj)}}let j=(()=>{class t{constructor(t,e,i,a,n,o,s){this.dataService=t,this.stakeService=e,this.metamaskService=i,this.commonContractService=a,this.toasterService=n,this.changeDetectorRef=o,this.footerService=s,this.isCollapsed=!1,this.stakingPairs=[],this.stakingPairsDatas=[],this.isCollapseds=[],this.isSingleStake=!1,this.isStakeAvailable=!1,this.isClaimAvailable=!1,this.isgetPolledPairsLoading=!0,this.isStakedOnly=!1,this.stackedLength=0,this.isTable=!0,this.master_stake_address=c.a.master_stake_address}ngOnInit(){this.getPolledPairs()}filter(t){\"stakedOnly\"==t&&(this.stackedLength=this.stakingPairs.filter((function(t){return console.log(t,\"type\"),1==t.staked_staus})).length)}changeView(t){console.log(t,\"typetype\"),this.isTable=\"table\"==t}metaCallCommonFunction(){this.dataService.isMetaReady.subscribe(t=>{t&&this.metaFunctions()}),this.dataService.metaDeatails.isMetaLogin&&this.metaFunctions()}toTop(){this.top.nativeElement.scrollIntoView({behavior:\"smooth\",block:\"start\",inline:\"nearest\"})}getBack(){console.log(\"getBack called\"),this.isSingleStake=!1,this.changeDetectorRef.detectChanges()}isCollapsedOpen(){console.log(\"ue\"),this.isCollapsed=!0,this.changeDetectorRef.detectChanges()}getPolledPairs(){this.isgetPolledPairsLoading=!0,this.dataService.getRequest(\"farming/getPooledPairs\").subscribe(t=>{t.status&&(this.stakingPairs=t.data,this.metaCallCommonFunction()),this.isgetPolledPairsLoading=!1})}getAprCalculation(t,e){return Object(o.a)(this,void 0,void 0,(function*(){return this.stakeService.GetPoolInfo(t).then(t=>{if(t.status)return console.log(t,\"____________________________________________________________ sucess\"),(e*(+t.share*+t.allocPoint)*365).toFixed(2)})}))}metaFunctions(){this.stakingPairs.map(t=>Object(o.a)(this,void 0,void 0,(function*(){yield this.setPairBalance(t.pair_address).then(e=>{t.avilableStakeAmount=e.balance,t.avilableStakeAmountRaw=e.rawbalance,t.isStakeAvailable=+e.balance>0}),yield this.getRewardAmount(t.poolId).then(e=>{t.reward_amount=e,t.isClaimAvailable=+e>0}),yield this.getStakedAmount(t.poolId).then(e=>{t.staked_amount=e.amount,t.staked_amountRaw=e.amountRaw,t.staked_staus=+e.amount>0}),yield this.footerService.getPricePoolshare().then(e=>Object(o.a)(this,void 0,void 0,(function*(){console.log(e,\"+++++++++++++++++++++++++++++++++ suc\"),yield this.getAprCalculation(t.poolId,e).then(e=>{t.aprPercentage=e})}))),yield this.getTotalSupply(t.pair_address).then(e=>{t.totalLiqudity=e}),this.changeDetectorRef.detectChanges()}))),this.changeDetectorRef.detectChanges()}getTotalSupply(t){return Object(o.a)(this,void 0,void 0,(function*(){return this.commonContractService.GetTotalSupply(t).then(t=>Object(o.a)(this,void 0,void 0,(function*(){return t.status?t.totalsupply:0}))).catch(t=>{console.log(\"reward false\")})}))}setPairBalance(t){return this.commonContractService.GetTokenbalance(t).then(t=>t.status?t:0)}getRewardAmount(t){return Object(o.a)(this,void 0,void 0,(function*(){return this.stakeService.GetRewardamount(t).then(t=>Object(o.a)(this,void 0,void 0,(function*(){return t.status?yield window.web3.utils.fromWei(t.result.toString(),\"ether\"):0}))).catch(t=>{console.log(\"reward false\")})}))}getStakedAmount(t){return Object(o.a)(this,void 0,void 0,(function*(){return this.stakeService.GetStakedamount(t).then(t=>Object(o.a)(this,void 0,void 0,(function*(){if(t.status){let e=yield window.web3.utils.fromWei(t.amount.toString(),\"ether\");return console.log(e,\"staked_amount\"),{amountRaw:t.amount,amount:e}}return 0}))).catch(t=>{console.log(\"reward false\")})}))}stake(t){return Object(o.a)(this,void 0,void 0,(function*(){this.dataService.metaDeatails.isMetaLogin?(yield this.metamaskService.checkChainIdCall())&&(this.stakingPairSingleObj=t,console.log(this.stakingPairSingleObj,\"this.isChainId\"),this.isSingleStake=!0,this.changeDetectorRef.detectChanges()):this.dataService.showWalletList.emit(!0)}))}}return t.\\u0275fac=function(e){return new(e||t)(s.Rb(r.a),s.Rb(l.a),s.Rb(b.a),s.Rb(d.a),s.Rb(g.a),s.Rb(s.i),s.Rb(f))},t.\\u0275cmp=s.Lb({type:t,selectors:[[\"app-farm\"]],viewQuery:function(t,e){var i;1&t&&s.Pc(k,!0),2&t&&s.wc(i=s.fc())&&(e.top=i.first)},decls:15,vars:5,consts:[[1,\"tabpages-cnt\",\"farm-block\"],[1,\"section-title\"],[1,\"text-center\",\"font-20\",\"fontweight-400\"],[1,\"row\",\"mt-5\"],[1,\"col-md-6\",\"col-sm-12\",\"col-xl-3\",\"col-lg-6\",\"mb-2\",\"text-xl-right\",\"toggle\"],[1,\"switch\"],[\"type\",\"checkbox\",\"id\",\"switch1\",\"name\",\"isStakedOnly\",3,\"ngModel\",\"ngModelChange\"],[1,\"slider\",\"round\"],[\"for\",\"switch1\",1,\"text-black\",\"font-18\",\"pl-2\",\"pt-1\",\"fontweight-400\",\"align-top\"],[\"class\",\"tab-content\",4,\"ngIf\"],[\"class\",\"tab-content \",\"id\",\"myTabContent\",4,\"ngIf\"],[3,\"stakingPair\",\"goBack\",4,\"ngIf\"],[1,\"tab-content\"],[\"id\",\"myTabContent\",1,\"tab-content\"],[\"id\",\"home\",\"role\",\"tabpanel\",\"aria-labelledby\",\"home-tab\",1,\"tab-pane\",\"fade\",\"show\",\"active\"],[\"class\",\"row mt-4\",4,\"ngIf\"],[\"class\",\"col-xl-12 col-lg-12 col-md-12 col-12 text-center font-weight-bold \",4,\"ngIf\"],[\"id\",\"profile\",\"role\",\"tabpanel\",\"aria-labelledby\",\"profile-tab\",1,\"tab-pane\",\"fade\"],[1,\"row\",\"mt-4\"],[1,\"col-xl-12\",\"col-lg-12\",\"col-md-12\",\"col-12\",\"text-center\",\"font-weight-bold\"],[\"class\",\"col-lg-6 col-sm-12 col-xl-4 col-md-12\",3,\"hidden\",4,\"ngFor\",\"ngForOf\"],[1,\"col-lg-6\",\"col-sm-12\",\"col-xl-4\",\"col-md-12\",3,\"hidden\"],[1,\"card\",\"grey-cnt\",\"stake-cnt\"],[1,\"card-body\"],[1,\"text-black\",\"font-20\",\"fontweight-700\",\"mb-3\"],[1,\"d-sm-flex\",\"justify-content-between\",\"mb-4\"],[1,\"d-flex\",\"align-items-start\",\"mb-2\"],[\"src\",\"assets/images/eth-icon.png\",1,\"img-fluid\",\"mr-2\"],[\"src\",\"assets/images/bnb-icon.png\",1,\"img-fluid\"],[1,\"d-flex\",\"justify-content-between\"],[1,\"text-black\",\"font-14\",\"fontweight-400\"],[1,\"d-flex\",\"justify-content-between\",\"mt-3\",\"align-items-center\"],[1,\"btn\",\"bg-white\",\"min-width-auto\",\"font-14\",\"px-2\",\"py-1\",3,\"disabled\",\"click\"],[1,\"text-left\",\"font-16\",\"mt-3\",\"font-weight-bold\"],[1,\"text-black\",\"font-14\",\"font-weight-bold\"],[\"routerLink\",\"\",\"target\",\"_blank\",1,\"fontweight-400\",\"text-black\",\"text-underline\",3,\"click\"],[1,\"w-100\",\"mt-3\"],[1,\"btn\",\"default-btn\",\"btn-block\",\"font-16\",3,\"disabled\",\"click\"],[4,\"ngIf\"],[\"class\",\"col-lg-6 col-sm-12 col-xl-4 col-md-12\",4,\"ngFor\",\"ngForOf\"],[1,\"col-lg-6\",\"col-sm-12\",\"col-xl-4\",\"col-md-12\"],[1,\"d-flex\",\"align-items-center\"],[1,\"btn\",\"default-btn\",\"min-width-auto\",\"font-14\",\"px-2\",\"py-1\",\"mr-1\"],[\"src\",\"assets/images/farm1.png\"],[1,\"bg-white\",\"font-14\",\"font-weight-bold\",\"p-2\",\"mb-0\"],[3,\"stakingPair\",\"goBack\"]],template:function(t,e){1&t&&(s.Xb(0,\"div\",0),s.Xb(1,\"h3\",1),s.Ic(2,\"Farming\"),s.Wb(),s.Xb(3,\"p\",2),s.Ic(4),s.Wb(),s.Xb(5,\"div\",3),s.Xb(6,\"div\",4),s.Xb(7,\"label\",5),s.Xb(8,\"input\",6),s.ec(\"ngModelChange\",(function(t){return e.isStakedOnly=t}))(\"ngModelChange\",(function(){return e.filter(\"stakedOnly\")})),s.Wb(),s.Sb(9,\"span\",7),s.Wb(),s.Xb(10,\"label\",8),s.Ic(11,\"Staked Only\"),s.Wb(),s.Wb(),s.Wb(),s.Gc(12,_,2,0,\"div\",9),s.Gc(13,O,8,5,\"div\",10),s.Wb(),s.Gc(14,R,1,1,\"app-staking2\",11)),2&t&&(s.Fb(4),s.Kc(\"Liquidity providers earn a 0.0% fee on all traders proportional to their share of the pool \",e.dataService.projectDetails.tokenName,\".\"),s.Fb(4),s.nc(\"ngModel\",e.isStakedOnly),s.Fb(4),s.nc(\"ngIf\",e.isgetPolledPairsLoading),s.Fb(1),s.nc(\"ngIf\",!e.isSingleStake&&!e.isgetPolledPairsLoading),s.Fb(1),s.nc(\"ngIf\",e.isSingleStake))},directives:[v.a,v.i,v.l,a.m,a.l,n.d,p.a],pipes:[a.f],styles:[\"\"]}),t})();var A=i(\"44PX\"),G=i(\"+Cnu\"),D=i(\"Mfq2\"),M=i(\"1doH\"),T=i(\"sOro\");const q=[{path:\"\",component:j}];let B=(()=>{class t{}return t.\\u0275mod=s.Pb({type:t}),t.\\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[a.c,v.f,n.e.forChild(q),T.a,M.a,A.c.forRoot(),G.b.forRoot(),D.b.forRoot()]]}),t})()}}]);","extractedComments":[]}