{"version":3,"file":"bs-datepicker.effects.js","sources":["../../../../../src/datepicker/reducer/bs-datepicker.effects.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { combineLatest, Observable, Subscription } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { BsDatepickerAbstractComponent } from '../base/bs-datepicker-container';\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\nimport { BsLocaleService } from '../bs-locale.service';\n\nimport {\n  BsDatepickerViewMode,\n  BsNavigationEvent,\n  CellHoverEvent,\n  DatepickerDateCustomClasses,\n  DatepickerDateTooltipText,\n  DatepickerRenderOptions,\n  DaysCalendarViewModel,\n  DayViewModel,\n  MonthsCalendarViewModel,\n  YearsCalendarViewModel\n} from '../models';\nimport { BsDatepickerActions } from './bs-datepicker.actions';\nimport { BsDatepickerStore } from './bs-datepicker.store';\n\n\n@Injectable()\nexport class BsDatepickerEffects {\n  viewMode?: Observable<BsDatepickerViewMode>;\n  daysCalendar?: Observable<DaysCalendarViewModel[]>;\n  monthsCalendar?: Observable<MonthsCalendarViewModel[]>;\n  yearsCalendar?: Observable<YearsCalendarViewModel[]>;\n  options?: Observable<DatepickerRenderOptions>;\n\n  private _store?: BsDatepickerStore;\n  private _subs: Subscription[] = [];\n\n  constructor(private _actions: BsDatepickerActions,\n              private _localeService: BsLocaleService) {\n  }\n\n  init(_bsDatepickerStore: BsDatepickerStore): BsDatepickerEffects {\n    this._store = _bsDatepickerStore;\n\n    return this;\n  }\n\n  /** setters */\n\n  setValue(value?: Date): void {\n    this._store?.dispatch(this._actions.select(value));\n  }\n\n  setRangeValue(value?: Date[]): void {\n    this._store?.dispatch(this._actions.selectRange(value));\n  }\n\n  setMinDate(value?: Date): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.minDate(value));\n\n    return this;\n  }\n\n  setMaxDate(value?: Date): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.maxDate(value));\n\n    return this;\n  }\n\n  setDaysDisabled(value?: number[]): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.daysDisabled(value));\n\n    return this;\n  }\n\n  setDatesDisabled(value?: Date[]): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.datesDisabled(value));\n\n    return this;\n  }\n\n  setDatesEnabled(value?: Date[]): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.datesEnabled(value));\n\n    return this;\n  }\n\n  setDisabled(value?: boolean): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.isDisabled(value));\n\n    return this;\n  }\n\n  setDateCustomClasses(value?: DatepickerDateCustomClasses[]): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.setDateCustomClasses(value));\n\n    return this;\n  }\n\n  setDateTooltipTexts(value?: DatepickerDateTooltipText[]): BsDatepickerEffects {\n    this._store?.dispatch(this._actions.setDateTooltipTexts(value));\n\n    return this;\n  }\n\n  /* Set rendering options */\n  setOptions(_config: BsDatepickerConfig): BsDatepickerEffects {\n    const _options = Object.assign({ locale: this._localeService.currentLocale }, _config);\n    this._store?.dispatch(this._actions.setOptions(_options));\n\n    return this;\n  }\n\n  /** view to mode bindings */\n  setBindings(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\n    if (!this._store) {\n      return this;\n    }\n\n    container.daysCalendar$ = this._store.select(state => state.flaggedMonths)\n      .pipe(filter(months => !!months));\n\n    // month calendar\n    container.monthsCalendar = this._store.select(state => state.flaggedMonthsCalendar)\n      .pipe(filter(months => !!months));\n\n    // year calendar\n    container.yearsCalendar = this._store.select(state => state.yearsCalendarFlagged)\n      .pipe(filter(years => !!years));\n\n    container.viewMode = this._store.select(state => state.view?.mode);\n\n    container.options$ = combineLatest([\n      this._store.select(state => state.showWeekNumbers),\n      this._store.select(state => state.displayMonths)\n    ])\n      .pipe(map((latest) => ({\n          showWeekNumbers: latest[0],\n          displayMonths: latest[1]\n        })\n      ));\n\n    return this;\n  }\n\n  /** event handlers */\n  setEventHandlers(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\n    container.setViewMode = (event: BsDatepickerViewMode): void => {\n      this._store?.dispatch(this._actions.changeViewMode(event));\n    };\n\n    container.navigateTo = (event: BsNavigationEvent): void => {\n      this._store?.dispatch(this._actions.navigateStep(event.step));\n    };\n\n    container.dayHoverHandler = (event: CellHoverEvent): void => {\n      const _cell = event.cell as DayViewModel;\n      if (_cell.isOtherMonth || _cell.isDisabled) {\n        return;\n      }\n\n      this._store?.dispatch(this._actions.hoverDay(event));\n      _cell.isHovered = event.isHovered;\n    };\n\n    container.monthHoverHandler = (event: CellHoverEvent): void => {\n      event.cell.isHovered = event.isHovered;\n    };\n\n    container.yearHoverHandler = (event: CellHoverEvent): void => {\n      event.cell.isHovered = event.isHovered;\n    };\n\n    return this;\n  }\n\n  registerDatepickerSideEffects(): BsDatepickerEffects {\n    if (!this._store) {\n      return this;\n    }\n\n    this._subs.push(\n      this._store.select(state => state.view).subscribe(() => {\n        this._store?.dispatch(this._actions.calculate());\n      })\n    );\n\n    // format calendar values on month model change\n    this._subs.push(\n      this._store\n        .select(state => state.monthsModel)\n        .pipe(\n          filter(monthModel => !!monthModel)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.format()))\n    );\n\n    // flag day values\n    this._subs.push(\n      this._store\n        .select(state => state.formattedMonths)\n        .pipe(\n          filter(month => !!month)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // flag day values\n    this._subs.push(\n      this._store\n        .select(state => state.selectedDate)\n        .pipe(\n          filter(selectedDate => !!selectedDate)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // flag for date range picker\n    this._subs.push(\n      this._store\n        .select(state => state.selectedRange)\n        .pipe(\n          filter(selectedRange => !!selectedRange)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // monthsCalendar\n    this._subs.push(\n      this._store\n        .select(state => state.monthsCalendar)\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // years calendar\n    this._subs.push(\n      this._store\n        .select(state => state.yearsCalendarModel)\n        .pipe(\n          filter(state => !!state)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // on hover\n    this._subs.push(\n      this._store\n        .select(state => state.hoveredDate)\n        .pipe(\n          filter(hoveredDate => !!hoveredDate)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // date custom classes\n    this._subs.push(\n      this._store\n        .select(state => state.dateCustomClasses)\n        .pipe(\n          filter(dateCustomClasses => !!dateCustomClasses)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // date tooltip texts\n    this._subs.push(\n      this._store\n        .select(state => state.dateTooltipTexts)\n        .pipe(\n          filter(dateTooltipTexts => !!dateTooltipTexts)\n        )\n        .subscribe(() => this._store?.dispatch(this._actions.flag()))\n    );\n\n    // on locale change\n    this._subs.push(\n      this._localeService.localeChange\n        .subscribe(locale => this._store?.dispatch(this._actions.setLocale(locale)))\n    );\n\n    return this;\n  }\n\n  destroy(): void {\n    for (const sub of this._subs) {\n      sub.unsubscribe();\n    }\n  }\n}\n"]}